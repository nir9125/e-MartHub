

<app-navbar></app-navbar>


<div class="container mt-5">
  <h2>Shopping Cart</h2>
  <div class="row" style="justify-content: center;">
    <div class="col-md-4 mb-4" *ngFor="let item of products.flat(); let i = index">
      <mat-card class="h-70">
        <mat-card-content class="d-flex flex-column">
          <div class="d-flex" style="height: 200px;">
            <div class="image-container">
              <div class="image-wrapper">
                <img [src]="item.productImage" alt="image" class="imageOfProduct larger-image">
              </div>
            </div>
            <div class="ms-3 flex-grow-1 infoClass">
              <u><h4 class="card-title">{{ item.productBrand }}</h4></u>
              <h5 class="card-title">{{ item.productName }}</h5>
              <p class="card-text">Price: &#8377;{{ item.sellingPrice }}</p>
            </div>
          </div>
          <div class="mt-auto" style="display: flex; flex-direction: row-reverse;">
            <button mat-icon-button *ngIf="item.productId !== undefined" (click)="removeFromCart(item.productId)">
              <mat-icon class="delete-icon">delete</mat-icon>
            </button>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
  <div class="d-flex justify-content-between align-items-center">
    <div>
      <b><p class="total-cost">Total Cost: â‚¹{{ updateTotal() }}</p></b>
      <!-- <div *ngIF="ProductCnt"> -->
        <button mat-raised-button color="primary" (click)="checkout()" [routerLink]="['/payment']" >Checkout</button>
      <!-- </div> -->
      
    </div>
    <div>
      
    </div>
  </div>
  <div class="text-end mt-3">
    <button mat-raised-button color="accent" [routerLink]="['/productList']">Shop more</button>
  </div>
</div>

